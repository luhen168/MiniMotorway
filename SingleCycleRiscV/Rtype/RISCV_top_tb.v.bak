
module RISCV_top_tb;
    
    reg clk;
    reg rst;
  
    riscv_Rtype_top core (
        .clk(clk),
        .rst(rst) 
    );

    initial
    begin
        core.u_id_stage.u_reg_file.reg_file[1] = 32'h00000005; // x1 = 5
        core.u_id_stage.u_reg_file.reg_file[2] = 32'h00000007; // x2 = 7
        $readmemh("/home/luanle/DigitalDesign/Lab/MiniMotorway/SingleCycleRiscV/imem.mem", core.u_if_stage.u_imem.mem);
    end
    
    always #5 clk = !clk;
    
    initial begin
           clk  = 0;
           resetn = 0;
           #10 resetn = 1;
           //#1399 $finish;
            repeat (150) @(posedge clk);
            $stop;
    end

endmodule

